<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VENOCYBER ¬∑ REAL URL UPTIME INSPECTOR</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* [CSS unchanged - same cyber aesthetic] */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Courier New', Courier, monospace;
        }

        body {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: black;
            transition: background 0.8s ease;
            padding: 16px;
        }

        .cyber-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            background: radial-gradient(circle at 30% 40%, #0b0f1e, #03050a);
            animation: venoshift 1s infinite alternate;
        }

        @keyframes venoshift {
            0% { background: radial-gradient(circle at 20% 30%, #0e0b1a, #010101); }
            25% { background: radial-gradient(circle at 80% 70%, #1a0e1c, #0b0210); }
            50% { background: radial-gradient(circle at 40% 80%, #10201c, #031010); }
            75% { background: radial-gradient(circle at 70% 20%, #1f1326, #080311); }
            100% { background: radial-gradient(circle at 90% 90%, #0c1a24, #03060c); }
        }

        .inspector-panel {
            max-width: 900px;
            width: 100%;
            background: rgba(8, 20, 28, 0.85);
            backdrop-filter: blur(8px);
            border: 2px solid #19f7c2;
            box-shadow: 0 0 30px #0ef0c8, 0 0 10px #2affb6 inset;
            border-radius: 12px;
            padding: 35px 25px;
            color: #c0ffff;
            text-shadow: 0 0 4px cyan;
            position: relative;
            z-index: 2;
        }

        h1 {
            font-size: 2.2rem;
            letter-spacing: 6px;
            text-transform: uppercase;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 12px;
            color: #e4fffe;
            text-shadow: 0 0 8px #0ef, 0 0 20px #0ef;
            border-bottom: 2px dashed #4df0e6;
            padding-bottom: 15px;
        }

        .veno-sub {
            font-size: 0.95rem;
            color: #a1f6e7;
            margin-bottom: 25px;
            border-left: 6px solid #0ef;
            padding-left: 14px;
            background: rgba(0,255,255,0.1);
            line-height: 1.6;
        }

        .input-group {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 28px;
        }

        #urlInput {
            flex: 1;
            min-width: 220px;
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #17d6c2;
            padding: 16px 20px;
            font-size: 1.1rem;
            color: #00ffee;
            border-radius: 40px;
            outline: none;
            letter-spacing: 1.5px;
            box-shadow: 0 0 15px #12edc0;
        }

        #urlInput::placeholder {
            color: #a0e7e0;
            opacity: 0.7;
        }

        #urlInput:focus {
            border-color: #ff44e6;
            box-shadow: 0 0 25px #ff44e6;
        }

        .cyber-button {
            background: #000;
            border: 3px solid #0ef;
            color: #0ef;
            font-weight: bold;
            padding: 14px 32px;
            border-radius: 40px;
            font-size: 1.2rem;
            text-transform: uppercase;
            letter-spacing: 3px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 0 15px cyan;
            transition: 0.2s;
        }

        .cyber-button:hover {
            background: #0ef;
            color: black;
            border-color: #ff2bfc;
            box-shadow: 0 0 35px #00ffff, 0 0 35px #ff00d0;
        }

        .cyber-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            box-shadow: none;
        }

        .result-terminal {
            background: rgba(2, 15, 20, 0.9);
            border: 1px solid #2effe0;
            padding: 22px 20px;
            border-radius: 10px;
            margin-top: 30px;
            box-shadow: 0 0 20px rgba(0,255,255,0.3);
            word-wrap: break-word;
        }

        .status-header {
            display: flex;
            align-items: center;
            gap: 15px;
            border-bottom: 1px solid cyan;
            padding-bottom: 10px;
            margin-bottom: 18px;
            color: #b2ffe6;
            font-size: 1.3rem;
        }

        .live-badge {
            background: #00eea2;
            color: black;
            padding: 6px 18px;
            border-radius: 30px;
            font-weight: 900;
            letter-spacing: 2px;
            box-shadow: 0 0 10px lime;
        }

        .dead-badge {
            background: #a10032;
            color: white;
            padding: 6px 18px;
            border-radius: 30px;
            font-weight: 900;
            box-shadow: 0 0 15px red;
        }

        .history-line {
            background: #04191e;
            padding: 14px;
            border-left: 8px solid cyan;
            margin: 16px 0;
            font-size: 1.1rem;
        }

        .browser-strip {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 18px;
            margin-top: 18px;
            background: #0b1e24;
            padding: 18px 20px;
            border-radius: 50px;
            border: 1px solid #6fffe9;
        }

        .browser-icon {
            font-size: 2.1rem;
            cursor: pointer;
            transition: 0.2s;
            color: #bcf2ff;
            filter: drop-shadow(0 0 8px cyan);
        }

        .browser-icon:hover {
            transform: scale(1.3);
            color: white;
            filter: drop-shadow(0 0 16px #ff71e2);
        }

        .browser-icon.disabled {
            opacity: 0.3;
            cursor: not-allowed;
            pointer-events: none;
        }

        .visit-tag {
            background: transparent;
            border: 2px dashed #0ef;
            padding: 8px 18px;
            border-radius: 30px;
            font-size: 1rem;
            color: #a3fff0;
        }

        .oops-msg {
            color: #ff9898;
            font-size: 1.6rem;
            text-shadow: 0 0 8px red;
            letter-spacing: 4px;
        }

        .small-note {
            color: #a1c8c8;
            font-size: 0.9rem;
            margin-top: 15px;
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(0,255,255,0.3);
            border-radius: 50%;
            border-top-color: #0ef;
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        footer {
            margin-top: 30px;
            color: #5edbdb;
            text-align: right;
            border-top: 1px solid #0a5555;
            padding-top: 15px;
        }
    </style>
</head>
<body>
    <div class="cyber-bg" id="cyberBg"></div>

    <div class="inspector-panel">
        <h1>
            <i class="fas fa-shield-halfling" style="color:#0ef;"></i> VENOCYBER 
            <span style="font-size:1.2rem; color:#aefff2;">/REAL-UPTIME</span>
        </h1>
        <div class="veno-sub">
            <i class="fas fa-skull"></i> REAL URL INSPECTOR ‚Äî ACTUAL HTTP CHECKS + WAYBACK MACHINE INTEGRATION
            <br>ENTER ANY DOMAIN TO VERIFY LIVE STATUS & HISTORICAL RECORDS
        </div>

        <div class="input-group">
            <input type="url" id="urlInput" placeholder="https://example.com" value="google.com">
            <button class="cyber-button" id="inspectBtn"><i class="fas fa-eye"></i> INSPECT</button>
        </div>

        <div class="result-terminal" id="resultPanel">
            <div class="status-header">
                <i class="fas fa-radar" style="color: #0ef;"></i> SCAN REPORT 
                <span style="margin-left:auto; font-size:0.9rem;" id="timestampScan"></span>
            </div>
            <div id="verdictMessage">
                ‚ö° Enter a URL and click INSPECT for real verification
            </div>
            <div id="browserChoiceArea" style="display: none;" class="browser-strip">
                <span class="visit-tag"><i class="fas fa-compass"></i> OPEN WITH:</span>
                <span class="browser-icon" id="browserChrome" title="Chrome"><i class="fab fa-chrome"></i></span>
                <span class="browser-icon" id="browserFirefox" title="Firefox"><i class="fab fa-firefox"></i></span>
                <span class="browser-icon" id="browserEdge" title="Edge"><i class="fab fa-edge"></i></span>
                <span class="browser-icon" id="browserSafari" title="Safari"><i class="fab fa-safari"></i></span>
                <span class="browser-icon" id="browserOpera" title="Opera"><i class="fab fa-opera"></i></span>
                <span class="browser-icon" id="browserBrave" title="Brave"><i class="fab fa-brave"></i></span>
            </div>
            <div class="small-note" id="extraMeta"></div>
        </div>
        <footer>
            <i class="fas fa-terminal"></i> venocyber/real-inspector ¬∑ live http checks + archive.org integration
        </footer>
    </div>

    <script>
        (function() {
            const bgElement = document.getElementById('cyberBg');
            
            // REAL background color shift every 1s
            setInterval(() => {
                const hue = Math.floor(Math.random() * 60) + 180;
                bgElement.style.background = `radial-gradient(circle at ${Math.floor(Math.random()*100)}% ${Math.floor(Math.random()*100)}%, rgba(0, ${200+Math.floor(Math.random()*55)}, 255, 0.15), #000000)`;
            }, 1000);

            const urlInput = document.getElementById('urlInput');
            const inspectBtn = document.getElementById('inspectBtn');
            const verdictDiv = document.getElementById('verdictMessage');
            const browserArea = document.getElementById('browserChoiceArea');
            const extraMeta = document.getElementById('extraMeta');
            const timestampSpan = document.getElementById('timestampScan');

            // CORS proxy to actually check URLs
            const CORS_PROXY = 'https://api.allorigins.win/raw?url=';
            const WAYBACK_API = 'https://archive.org/wayback/available?url=';

            // Format URL properly
            function formatURL(input) {
                input = input.trim();
                if (!input.startsWith('http://') && !input.startsWith('https://')) {
                    return 'https://' + input;
                }
                return input;
            }

            // Extract domain for display
            function extractDomain(url) {
                try {
                    const urlObj = new URL(url);
                    return urlObj.hostname;
                } catch {
                    return url;
                }
            }

            // Check if URL is live using fetch with timeout
            async function checkIsLive(url) {
                const controller = new AbortController();
                const timeoutId = setTimeout(() => controller.abort(), 8000); // 8s timeout
                
                try {
                    const response = await fetch(CORS_PROXY + encodeURIComponent(url), {
                        signal: controller.signal,
                        mode: 'cors',
                        headers: {
                            'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8'
                        }
                    });
                    clearTimeout(timeoutId);
                    return {
                        isLive: response.ok,
                        status: response.status,
                        statusText: response.statusText
                    };
                } catch (error) {
                    clearTimeout(timeoutId);
                    if (error.name === 'AbortError') {
                        return { isLive: false, error: 'timeout' };
                    }
                    return { isLive: false, error: error.message };
                }
            }

            // Check Wayback Machine for historical data
            async function checkWaybackHistory(url) {
                try {
                    const domain = extractDomain(url);
                    const response = await fetch(WAYBACK_API + encodeURIComponent(url));
                    const data = await response.json();
                    
                    if (data.archived_snapshots && data.archived_snapshots.closest) {
                        const snapshot = data.archived_snapshots.closest;
                        return {
                            exists: true,
                            timestamp: snapshot.timestamp,
                            url: snapshot.url,
                            status: snapshot.status || '200'
                        };
                    }
                    return { exists: false };
                } catch (error) {
                    console.error('Wayback error:', error);
                    return { exists: false, error: error.message };
                }
            }

            // Format Wayback timestamp to readable date
            function formatWaybackDate(timestamp) {
                if (!timestamp) return 'Unknown';
                // timestamp format: YYYYMMDDHHMMSS
                const year = timestamp.substring(0, 4);
                const month = timestamp.substring(4, 6);
                const day = timestamp.substring(6, 8);
                const hour = timestamp.substring(8, 10);
                const minute = timestamp.substring(10, 12);
                const second = timestamp.substring(12, 14);
                
                return `${year}-${month}-${day} ${hour}:${minute}:${second}`;
            }

            // Simulate browser detection from user agent (for demo, we'll randomize based on URL hash)
            function detectLastBrowser(domain) {
                const browsers = ['Chrome', 'Firefox', 'Safari', 'Edge', 'Opera', 'Brave'];
                // Deterministic but realistic variation based on domain
                const hash = domain.split('').reduce((a, b) => a + b.charCodeAt(0), 0);
                return browsers[hash % browsers.length];
            }

            // Main inspection function - REAL URL checking
            async function inspectURL() {
                let rawUrl = urlInput.value.trim();
                if (!rawUrl) {
                    alert('ENTER TARGET URL');
                    return;
                }

                const formattedUrl = formatURL(rawUrl);
                const domain = extractDomain(formattedUrl);
                
                // Set loading state
                inspectBtn.disabled = true;
                inspectBtn.innerHTML = '<div class="loading"></div> SCANNING...';
                verdictDiv.innerHTML = `<span style="color:#0ef;"><i class="fas fa-spinner fa-pulse"></i> INITIATING REAL-TIME SCAN...</span>`;
                browserArea.style.display = 'none';
                timestampSpan.innerText = `‚ö° ${new Date().toLocaleString()}`;

                try {
                    // 1. Check if site is live NOW
                    const liveCheck = await checkIsLive(formattedUrl);
                    
                    // 2. Check Wayback Machine for history
                    const waybackData = await checkWaybackHistory(formattedUrl);
                    
                    // 3. Generate report
                    if (liveCheck.isLive) {
                        // SITE IS LIVE - REAL DATA
                        verdictDiv.innerHTML = `
                            <span style="display:flex; gap:14px; align-items:center; flex-wrap:wrap;">
                                <span class="live-badge"><i class="fas fa-bolt"></i> LIVE / ONLINE</span> 
                                <span style="color:#ccffd0;">
                                    <i class="fas fa-check-circle"></i> HTTP ${liveCheck.status}: ${liveCheck.statusText || 'OK'}
                                </span>
                            </span>
                            <div class="history-line">
                                <i class="fas fa-globe"></i> <strong>${domain}</strong> is CURRENTLY ACTIVE<br>
                                <span style="color:#7fffd4;">‚úì Responding to HTTP requests</span>
                            </div>
                        `;
                        
                        if (waybackData.exists) {
                            extraMeta.innerHTML = `üìÖ First seen on archive: ${formatWaybackDate(waybackData.timestamp)} ¬∑ <a href="${waybackData.url}" target="_blank" style="color:#0ef;">view snapshot</a>`;
                        } else {
                            extraMeta.innerHTML = `üìÖ No archive.org records found (new or private site)`;
                        }
                        
                        browserArea.style.display = 'flex';
                    } else {
                        // SITE IS DEAD - check if it EVER existed
                        if (waybackData.exists) {
                            // It existed in the past! Show last active date
                            const lastActiveDate = formatWaybackDate(waybackData.timestamp);
                            const lastBrowser = detectLastBrowser(domain);
                            
                            verdictDiv.innerHTML = `
                                <span style="display:flex; gap:14px; align-items:center; flex-wrap:wrap;">
                                    <span class="dead-badge"><i class="fas fa-skull"></i> DEAD / OFFLINE</span> 
                                    <span style="color:#95f0e6;">
                                        <i class="fas fa-history"></i> LAST ACTIVE: ${lastActiveDate}
                                    </span>
                                </span>
                                <div class="history-line">
                                    <i class="fas fa-archive"></i> Historical record found on <strong style="color:#5effe7;">${lastBrowser}</strong> browser (simulated)<br>
                                    <span style="color:#aae6e6;">Final known snapshot: ${waybackData.url ? waybackData.url.substring(0, 50) + '...' : 'available'}</span>
                                </div>
                            `;
                            extraMeta.innerHTML = `‚ö†Ô∏è Site is dead but WAS active on ${lastActiveDate}. <a href="${waybackData.url}" target="_blank" style="color:#0ef;">view last snapshot ‚Üí</a>`;
                            browserArea.style.display = 'flex'; // Still allow visit attempt
                        } else {
                            // NEVER EXISTED - REAL "oops" message
                            verdictDiv.innerHTML = `
                                <span class="oops-msg"><i class="fas fa-exclamation-triangle"></i> OOPS! THE URL DOESN'T EXIST</span>
                                <div style="margin-top:20px; padding:15px; background: rgba(255,0,0,0.1); border-left: 4px solid #ff4444;">
                                    <i class="fas fa-radar"></i> NO RECORD FOUND<br>
                                    <span style="color:#ffaaaa;">‚Ä¢ No active web server responding at ${domain}</span><br>
                                    <span style="color:#ffaaaa;">‚Ä¢ No historical records in archive.org</span><br>
                                    <span style="color:#ffaaaa;">‚Ä¢ Domain may be unregistered or never existed</span>
                                </div>
                            `;
                            extraMeta.innerHTML = '';
                            browserArea.style.display = 'none';
                        }
                    }

                    // Setup browser icons for visit site (REAL opening)
                    const currentUrl = formattedUrl;
                    
                    // Re-setup browser icon listeners
                    const browsers = ['Chrome', 'Firefox', 'Edge', 'Safari', 'Opera', 'Brave'];
                    browsers.forEach(browser => {
                        const icon = document.getElementById(`browser${browser}`);
                        if (icon) {
                            const newIcon = icon.cloneNode(true);
                            icon.parentNode.replaceChild(newIcon, icon);
                            newIcon.id = `browser${browser}`;
                            
                            newIcon.addEventListener('click', (e) => {
                                e.preventDefault();
                                // REAL browser opening - always open in new tab
                                // Different browsers just open same URL, user's default browser handles it
                                window.open(currentUrl, '_blank');
                                
                                // Show which browser was "selected"
                                extraMeta.innerHTML = `üåê Opening ${domain} with ${browser} (your default browser will handle the request)`;
                            });
                        }
                    });

                } catch (error) {
                    verdictDiv.innerHTML = `<span style="color:#ff6666;"><i class="fas fa-bug"></i> SCAN ERROR: ${error.message}</span>`;
                    browserArea.style.display = 'none';
                } finally {
                    // Reset button state
                    inspectBtn.disabled = false;
                    inspectBtn.innerHTML = '<i class="fas fa-eye"></i> INSPECT';
                }
            }

            // Event listeners
            inspectBtn.addEventListener('click', inspectURL);
            urlInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') inspectURL();
            });

            // Initial demo with real Google check
            window.addEventListener('DOMContentLoaded', () => {
                urlInput.value = 'google.com';
                setTimeout(() => inspectURL(), 500);
            });

        })();
    </script>
</body>
</html>
